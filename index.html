<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>恋みくじ | ネオン×ギャル</title>
<meta name="description" content="ギャル語で背中を押してくれる恋みくじ。ローズピンク×ゴールドの和ギャルデザイン。">
<style>
/* ===== Theme ===== */
:root{
  --bg:#ffe6f2;            /* ローズピンクの背景 */
  --panel:#ffffffee;
  --ink:#6f2747;           /* 文字色（濃いめ） */
  --line:#ff8eb8;          /* 輪郭ピンク */
  --accent:#ff2e7a;        /* 濃いアクセント */
  --accent2:#ff66a3;       /* 明るいアクセント */
  --gold:#ffd700;          /* 金 */
}
/* ===== Reset ===== */
*{box-sizing:border-box}
html,body{margin:0}
body{
  color:var(--ink);
  font-family:"Hiragino Kaku Gothic ProN","Yu Gothic","Noto Sans JP",system-ui,sans-serif;
  text-align:center;
  background:
    radial-gradient(1200px 600px at 10% 0%, #ffd1dc 0%, rgba(255,209,220,0) 60%),
    radial-gradient(1000px 500px at 90% 20%, #ffc2d1 0%, rgba(255,194,209,0) 60%),
    var(--bg);
  background-attachment: fixed;
}

/* ===== 背景のキラ装飾（軽量CSS） ===== */
.sparkle, .sparkle:before, .sparkle:after{
  position:fixed; inset:auto; pointer-events:none; z-index:0; opacity:.75; filter:drop-shadow(0 2px 4px rgba(0,0,0,.05));
}
.sparkle{
  width:18px;height:18px; left:6%; top:22%;
  animation: twinkle 2.4s infinite steps(2) alternate;
}
.sparkle:before{content:"💖"; left:30vw; top:20vh; font-size:26px; animation: twinkle 2.6s infinite .4s steps(2)}
.sparkle:after {content:"✨"; left:78vw; top:32vh; font-size:22px; animation: twinkle 2.2s infinite .8s steps(2)}
@keyframes twinkle{to{opacity:.35; transform:scale(.9) rotate(-6deg)}}

/* ===== 見出し（和×ネオン） ===== */
.header{
  margin:28px auto 10px; display:inline-flex; gap:10px; align-items:center; z-index:1; position:relative;
}
.title-chip{
  background:var(--panel);
  border:2px solid var(--line);
  border-radius:16px;
  padding:10px 22px;
  font-weight:900;
  letter-spacing:.2em;
  box-shadow:0 10px 30px rgba(255,120,170,.25);
}
.title-chip:before,.title-chip:after{content:"💖"; margin:0 8px; filter:drop-shadow(0 0 6px rgba(255,120,170,.7))}
.title-chip b{color:var(--accent2)}

/* ===== 入力パネル ===== */
.panel{
  width:min(900px,92vw);
  margin:8px auto 28px;
  padding:26px 24px 30px;
  background:var(--panel);
  border:2px solid #ffd2e1;
  border-radius:18px;
  box-shadow:
    0 18px 40px rgba(255,140,190,.25),
    inset 0 10px 40px rgba(255,230,245,.8);
  position:relative;
  z-index:1;
}
.panel h2{margin:0 0 14px; font-size:20px}
.label{font-size:14px; opacity:.8; margin-right:8px}
.input{
  display:flex; gap:12px; flex-wrap:wrap; justify-content:center; align-items:center;
  margin:8px 0 10px;
}
input[type="text"]{
  width:min(520px,90vw); padding:12px 14px; border:2px solid var(--line);
  border-radius:12px; font-size:16px; background:#fff
}
/* チップ（恋愛ステータス） */
.chips{display:flex; gap:10px; flex-wrap:wrap; justify-content:center; margin:6px 0 4px}
.chip{
  border:2px solid var(--line); padding:8px 14px; border-radius:999px; background:#fff;
  font-weight:700; cursor:pointer; user-select:none; transition:.15s; box-shadow:0 6px 14px rgba(255,130,180,.15)
}
.chip.active, .chip:hover{
  background:linear-gradient(180deg,#fff 0%, #ffe3ef 100%);
  border-color:#ff6fae; color:#d11362
}
/* ボタン */
.btn{
  display:inline-block; margin-top:14px; padding:16px 34px; color:#fff; font-weight:900; letter-spacing:.06em;
  border:none; border-radius:999px; cursor:pointer;
  background:linear-gradient(135deg,var(--accent2),var(--accent));
  box-shadow:0 18px 0 #b61d54, 0 22px 30px rgba(255,90,150,.35);
  transform:translateY(0); transition:transform .06s ease-in, box-shadow .06s ease-in
}
.btn:active{transform:translateY(4px); box-shadow:0 14px 0 #b61d54, 0 10px 18px rgba(255,90,150,.35)}
.note{margin-top:10px; font-size:12px; opacity:.7}

/* ===== カードエリア ===== */
.stage{width:min(980px,96vw); margin:10px auto 0; padding:6px 10px 40px}
.cards{
  display:grid; grid-template-columns:repeat(5, minmax(120px,1fr));
  gap:16px; justify-items:center; margin-top:10px;
}
/* カード本体（最初は非表示 → 順に出す） */
.card{
  width:150px; height:220px; border-radius:18px; position:relative; cursor:pointer;
  background:radial-gradient(140px 90px at 50% 20%, #fff8fb 0%, #fff0f6 60%, #ffe5f0 100%);
  border:2px solid #ffd3e3;
  box-shadow:
    0 20px 30px rgba(0,0,0,.06),
    inset 0 -14px 26px rgba(255,215,0,.18);
  display:flex; align-items:center; justify-content:center;
  font-size:28px; font-weight:900; color:#ff4c90;
  transform:translateY(10px) scale(.96);
  opacity:0; pointer-events:none;
}
/* デコ（ステッカー） */
.card:before,.card:after{
  position:absolute; content:""; width:42px;height:42px; filter:drop-shadow(0 2px 6px rgba(0,0,0,.12))
}
.card:before{
  left:-10px; top:-10px;
  background:
    radial-gradient(closest-side, #ff8dc1, #ff559c 65%, rgba(255,85,156,0) 66%),
    radial-gradient(closest-side, #ffd86f, #ffba00 70%, rgba(255,186,0,0) 71%);
  mask:
    radial-gradient(circle at 35% 35%, #000 36%, transparent 37%) top left / 26px 26px no-repeat,
    radial-gradient(circle at 65% 65%, #000 36%, transparent 37%) bottom right / 26px 26px no-repeat;
  border-radius:12px;
}
.card:after{
  right:-8px; bottom:-8px;
  background:
    radial-gradient(closest-side,#fff, #ffeaa6 60%, rgba(255,234,166,0) 61%),
    conic-gradient(from 0deg, #ffea94, #ffd24f, #ffae00, #ffd24f, #ffea94);
  clip-path:polygon(50% 0,61% 35%,98% 35%,68% 57%,79% 91%,50% 70%,21% 91%,32% 57%,2% 35%,39% 35%);
  transform:rotate(10deg);
}
/* 出現アニメ（順番ディレイ） */
.cards.show .card{opacity:1; transform:translateY(0) scale(1); pointer-events:auto; transition:transform .35s ease, opacity .35s ease, box-shadow .2s ease}
.cards.show .card:nth-child(1){transition-delay:.05s}
.cards.show .card:nth-child(2){transition-delay:.20s}
.cards.show .card:nth-child(3){transition-delay:.35s}
.cards.show .card:nth-child(4){transition-delay:.50s}
.cards.show .card:nth-child(5){transition-delay:.65s}
.card:hover{transform:translateY(-6px) scale(1.02); box-shadow:0 26px 40px rgba(255,150,200,.35), inset 0 -16px 26px rgba(255,215,0,.26)}

/* ===== 結果パネル ===== */
.result{
  width:min(840px,92vw); margin:14px auto 40px; padding:16px 18px 22px;
  background:#fff; border:2px solid #ffd3e3; border-radius:16px;
  box-shadow:0 16px 40px rgba(255,150,200,.25); display:none
}
.badge{display:inline-block; padding:.35em 1.2em; border-radius:999px; background:#fff0f6; border:2px solid #ffc1dd; color:#d91b71; font-weight:900}
.fortune{margin:12px 0 6px; font-size:18px; line-height:1.95}
.meta{display:flex; gap:10px; flex-wrap:wrap; justify-content:center}
.pill{border:2px dashed #f3c0d7; padding:8px 12px; border-radius:999px; background:#fffafc; font-weight:700}
@media (max-width:720px){
  .cards{grid-template-columns:repeat(3,1fr)}
  .card{width:120px;height:180px}
}
</style>
</head>
<body>
  <div class="sparkle" aria-hidden="true"></div>

  <!-- 見出し -->
  <div class="header"><div class="title-chip">巫 <b>恋 み く じ</b></div></div>

  <!-- Step 1: 入力パネル -->
  <section class="panel" id="step1">
    <h2>まずは入力してね</h2>

    <div class="input">
      <span class="label">お名前（任意）</span>
      <input id="name" type="text" placeholder="">
    </div>

    <div style="margin:6px 0 4px; font-size:13px; opacity:.8">現在の恋愛状況</div>
    <div class="chips" id="chips">
      <div class="chip active"  data-status="片思い">片思い</div>
      <div class="chip" data-status="両想い">両想い</div>
      <div class="chip" data-status="恋人あり">恋人あり</div>
      <div class="chip" data-status="恋人探し中">恋人探し中</div>
      <div class="chip" data-status="失恋した">失恋した</div>
      <div class="chip" data-status="わからない">わからない</div>
      <div class="chip" data-status="その他">その他</div>
    </div>

    <button class="btn" id="prepare">おみくじを用意する</button>
    <div class="note">※ 日本時間で1日1回だけ引けます</div>
  </section>

  <!-- Step 2: カード選択 -->
  <section class="stage" id="step2" style="display:none">
    <p style="margin:4px 0 2px">1枚えらんでね👇</p>
    <div class="cards" id="cards">
      <div class="card">恋</div>
      <div class="card">愛</div>
      <div class="card">運</div>
      <div class="card">命</div>
      <div class="card">縁</div>
    </div>
  </section>

  <!-- Step 3: 結果 -->
  <section class="result" id="step3">
    <span class="badge" id="luck">大吉</span>
    <div class="fortune" id="text">…</div>
    <div class="meta">
      <div class="pill">ラッキーカラー：<b id="color">ローズピンク</b></div>
      <div class="pill">ラッキーアイテム：<b id="item">ハートのピアス</b></div>
      <div class="pill">今日のアドバイス：<b id="advice">笑顔は最強の魔法</b></div>
    </div>
  </section>

<script>
/* ===== データ ===== */
const LUCK = ["大吉","中吉","小吉","吉","凶","大凶"];
const MESSAGES = [
  "焦んなくてOK💅 今は下準備のターン。磨いてるあんた、最強に可愛いよ！",
  "神ってるチャンス来そう✨ 目が合ったらニコっていこ〜！",
  "無理せず自分ペースで🫶 余裕ある人がいちばんモテるのよ？",
  "連絡は短く甘く💌 深追いより“余白”が効く日！",
  "今日は自分メンテの日💄 次の運命はもう待機してるって！",
  "ちょい待ち！今は守りのターン。寝て起きたら運気アップ⤴︎"
];
const ADVICE = [
  "スマホより目線を上に↑", "語尾はやさしく♡", "鏡の前で30秒スマイル",
  "返信は“短く可愛く”！", "自分を褒めるメモを書く", "深呼吸3回で余裕チャージ"
];
const COLORS = ["ローズピンク","ベビーピンク","さくら","シャンパンゴールド","あい","ミルキーバイオレット"];
const ITEMS  = ["ピンクのリップ","ふわもこポーチ","ハートのピアス","いちごミルク","スマホリング","ミニキャンドル","キラヘアピン","リボンのヘアゴム"];

/* ===== 状態管理 ===== */
let currentStatus = "片思い";
document.querySelectorAll('#chips .chip').forEach(ch=>{
  ch.addEventListener('click',()=>{
    document.querySelectorAll('#chips .chip').forEach(c=>c.classList.remove('active'));
    ch.classList.add('active');
    currentStatus = ch.dataset.status;
  });
});

/* ===== Step1 → Step2：カードを順次表示 ===== */
const step1 = document.getElementById('step1');
const step2 = document.getElementById('step2');
const step3 = document.getElementById('step3');
const cardsWrap = document.getElementById('cards');

document.getElementById('prepare').addEventListener('click', ()=>{
  step1.style.display='none';
  step2.style.display='block';

  // 一旦リセットしてから順次表示（CSSの .show と nth-child で遅延）
  cardsWrap.classList.remove('show');
  requestAnimationFrame(()=>{ requestAnimationFrame(()=> cardsWrap.classList.add('show')); });
});

/* ===== カードクリック → 結果 ===== */
document.querySelectorAll('#cards .card').forEach(card=>{
  card.addEventListener('click', ()=>{
    const name = (document.getElementById('name').value || "あなた").trim();
    const luck = LUCK[Math.floor(Math.random()*LUCK.length)];
    const msg  = MESSAGES[Math.floor(Math.random()*MESSAGES.length)];
    const color= COLORS[Math.floor(Math.random()*COLORS.length)];
    const item = ITEMS[Math.floor(Math.random()*ITEMS.length)];
    const adv  = ADVICE[Math.floor(Math.random()*ADVICE.length)];

    document.getElementById('luck').textContent = luck;
    document.getElementById('text').innerHTML   =
      `${name}の恋みくじは <b>${luck}</b> っぽ！<br>${msg}（今は<b>${currentStatus}</b>モードね）`;
    document.getElementById('color').textContent= color;
    document.getElementById('item').textContent = item;
    document.getElementById('advice').textContent = adv;

    step2.style.display='none';
    step3.style.display='block';
    step3.scrollIntoView({behavior:'smooth', block:'start'});
  });
});
</script>
</body>
</html>
